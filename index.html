<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>Quiz App</title>
     <link rel="stylesheet" href="styles.css" />
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="script.js"></script>
</head>

<body>
     <div class="background-image"></div>

     <div class="streak-counter">
          <img src="assets/fire-flame.gif" alt="Streak Icon" />
          <p>25</p>
     </div>

     <div class="avatar-container">
          <img src="assets/coder-ai.png" alt="Girl Developer" />
     </div>

     <div class="avatar-bubble-chat">
          <div class="bubble-tail-small"></div>
          <div class="bubble-tail-large"></div>
          <div class="bubble-chat">
               <span class="bubble-text">Hi there! üëãüèª</span>
          </div>
     </div>

     <div class="main-container">
          <div class="number-question">
               <p></p>
          </div>
          <div class="question-box">
               <p class="question-text"></p>
          </div>

          <div class="timer-bar">
               <div class="timer-fill"></div>
          </div>

          <div class="options-con">
               <div class="option-box"></div>
               <div class="option-box"></div>
               <div class="option-box"></div>
               <div class="option-box"></div>
          </div>

          <div class="buttons-con">
               <div class="back-button"></div>
               <div class="next-button"></div>
          </div>
     </div>
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script>
          $(document).ready(function () {
               let questions = [];
               let current = 0;

               // Load questions from the JSON file
               $.ajax({
                    url: 'questions.json',  // URL of the JSON file
                    type: 'GET',
                    dataType: 'json',
                    success: function (data) {
                         questions = data;  // Store the questions in the 'questions' array
                         loadQuestion(current);  // Load the first question
                    },
                    error: function () {
                         alert("Failed to load questions.");
                    }
               });

               // Load a specific question based on the current index
               function loadQuestion(index) {
                    const q = questions[index];
                    $(".question-text").text(q.text);
                    $(".number-question p").text((index + 1) + " / " + questions.length);

                    $(".option-box").each(function (i) {
                         $(this).text(q.options[i]);
                         $(this).off('click').on('click', function () {
                              nextQuestion();  // Move to the next question when an option is selected
                         });
                    });
               }

               // Go to the next question
               function nextQuestion() {
                    if (current < questions.length - 1) {
                         current++;
                         loadQuestion(current);
                    } else {
                         $(".question-text").text("You‚Äôve completed the quiz!");
                         $(".option-box").hide();  // Hide options after the last question
                    }
               }

               // Next button functionality
               $(".next-button").click(nextQuestion);

               // Back button functionality
               $(".back-button").click(function () {
                    if (current > 0) {
                         current--;
                         loadQuestion(current);
                    }
               });
          });
     </script>
</body>

</html>